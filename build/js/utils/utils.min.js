!function(e){"use strict";function t(e){var t=e.slice(0,1),n=e.substring(1);return"#"===t?document.getElementById(n):"."===t?this!==window?this.getElementsByClassName(n):document.getElementsByClassName(n):"["===t?this!==window?this.querySelectorAll(e):document.querySelectorAll(e):this!==window?this.getElementsByTagName(e):document.getElementsByTagName(e)}function n(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.log(e)}return e}function r(){var e=0;this.events={},this.getKey=function(){return e++}}function i(e,t,n,r,i,o){function s(){if(void 0!==o)for(var e in o)c[e]=o[e]}var a,c=r;if("string"!=typeof n)return console.error("type must be string and the value must be string, boolean, number, object, array, function");if("string"!==(n=n.toLowerCase())&&"boolean"!==n&&"number"!==n&&"object"!==n&&"array"!==n&&"no limit"!==n)return console.error("type must be string and the value must be string, boolean, number, object, array, function or no limit");if("no limit"!==n&&typeof r!==n&&!(r instanceof Array&&"array"===n))return console.error("the init value type not equal expected type");if("object"!=typeof o&&void 0!==o)return console.error("the extend is not a object");s();try{Object.defineProperty(e,t,{get:function(){return c},set:function(e){if(c!==e){if("no limit"!==n&&typeof e!==n&&!(e instanceof Array&&"array"===n))return console.error("the value type not equal expected type");a=c,c=e,!1===i(e,c)?c=a:(a=e,s())}},enumerable:!0,configurable:!0})}catch(e){console.dir(e),console.log("browser not supported.")}}function o(){function e(e,t){function r(e,t,n){var i=n.charAt(0),o=!1;if(e===t||null===t.parentNode)return!1;if("#"===i)o=t.id===n.slice(1);else if("."===i)o=-1!==(" "+t.className+" ").indexOf(" "+n.slice(1)+" ");else if("["===i){var s=n.slice(1,-1).split("=");o=s[1]?t.getAttribute(s[0])===s[1]:null!==t.getAttribute(s[0])}else o=t.tagName.toLowerCase()===n.toLowerCase();return o?t:r(e,t.parentNode,n)}e=e||window.event;var i=e.target||e.srcElement,o=e.currentTarget,s=r(o,i,n);s instanceof Element&&t&&t.call(s,e)}function t(e,t,n){function r(e){return e.preventDefault=r.preventDefault,e.stopPropagation=r.stopPropagation,e}"function"==typeof e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(e){n(r(e))}),r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0}}var n,r,i=arguments.length,o=arguments[0],s=arguments[1];if(!(o instanceof Element||o===document||o===window))return console.error("ele is not a Element !");3===i?"function"==typeof arguments[2]?t(o,s,arguments[2]):console.error("callback is not a function"):4===i&&("function"==typeof arguments[3]?(n=arguments[2],r=arguments[3],t(o,s,function(t){e(t,r)})):console.error("callback is not a function"))}function s(e,t){var n=" "+e.className+" ",r=" "+t+" ";return n.indexOf(r)>-1}function a(e,t){for(var n=" "+e.className+" ",r=" "+t+" ";n.indexOf(r)>-1;)n=n.replace(r," ");e.className=t?n.trim():""}function c(e,t){var n=" "+e.className+" ",r=" "+t+" ";n.indexOf(r)<0&&(e.className=(n+t).trim())}function u(e){a(e,"hide")}function l(e){c(e,"hide")}function f(e){var t=e.split("-"),n=t.length;if(1===n)return e;for(var r=1;r<n;r++)t[r]=t[r][0].toUpperCase()+t[r].slice(1);return t.join("")}function p(e,t){var n,r,i,o,s,a=function(){var c=new Date-o;c<t&&c>=0?n=setTimeout(a,t-c):(n=null,s=e.apply(r,i),r=i=null)};return function(){return o=new Date,n||(r=this,i=arguments,n=setTimeout(a,t)),s}}function h(e,t){var n,r,i,o,s=function(){n=null,o=e.apply(r,i),r=i=null};return function(){return n||(r=this,i=arguments,n=setTimeout(s,t)),o}}function v(e,t){var n,r=new Date,i=new Date(e),o=r-i;if(o<864e5&&r.getDate()===i.getDate())return m(i,"hh:mm");if(o<6048e5)switch(i.getDay()){case 0:n="星期日";break;case 1:n="星期一";break;case 2:n="星期二";break;case 3:n="星期三";break;case 4:n="星期四";break;case 5:n="星期五";break;case 6:n="星期六"}else n=i.getFullYear()===r.getFullYear()?m(i,"mm-dd"):m(i,"yy-mm-dd");return t&&(n+=m(i,"hh:mm")),n}function m(e,t){var n=t.split(" "),r=[],i=[];return e=new Date(e),n.forEach(function(t){-1!==t.indexOf("-")?t.split("-").forEach(function(t){var n,i;switch(t=t.toLocaleLowerCase()){case"yy":r.push(e.getFullYear()+"");break;case"mm":n=e.getMonth()+1+"",n=n<10?"0"+n:n,r.push(n);break;case"dd":i=e.getDate()+"",i=i<10?"0"+i:i,r.push(i)}}):-1!==t.indexOf(":")&&t.split(":").forEach(function(t){var n,r,o;switch(t=t.toLocaleLowerCase()){case"hh":n=e.getHours()+"",n=n<10?"0"+n:n,i.push(n);break;case"mm":r=e.getMinutes()+"",r=r<10?"0"+r:r,i.push(r);break;case"ss":o=e.getHours()+"",o=o<10?"0"+o:o,i.push(t.getDate()+"")}})}),r.join("-")+" "+i.join(":")}function y(e,t){var n=-1;return e.some(function(r,i){if("function"!=typeof t){if(r===t)return n=i,!0}else{if(t(r,n,e))return n=i,!0}}),n}function d(e,t){return e[y(e,t)]}function g(e,t){var n=y(e,t);if(-1!==n)return Array.prototype.splice.call(e,n,1)}function b(e){var t=Array.prototype.slice.call(arguments,1);return 0===t.length?e:(t.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e)}r.prototype.on=function(e,t){var n=this.getKey();return this.events[e]=this.events[e]||[],this.events[e].push({key:n,func:t}),n},r.prototype.emit=function(e,t){var n,r,i=this.events[e],o=Array.prototype.slice.call(arguments,1);if(i)for(n=0,r=i.length;n<r;n++)i[n].func.apply(null,o)},r.prototype.remove=function(e,t){if(this.events[e]&&this.events[e].length){if(void 0===t)return this.events[e]=[];var n=this.findIndex(this.events[e],t);n>-1&&this.events[e].splice(n,1)}},r.prototype.findIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return n;return-1};var w={};w.q=t,w.zh=n,w.Eventer=r,w.watch=i,w.on=o,w.show=u,w.hide=l,w.hasClass=s,w.removeClass=a,w.addClass=c,w.camel=f,w.debounce=p,w.throttle=h,w.serializeTime=v,w.formatTime=m,w.findIndex=y,w.find=d,w.assign=b,w.remove=g,e.utils=w}(this),function(e,t){"use strict";function n(e){this.eles={},this.funcs=e.funcs,this.eventer=e.eventer,this.template=e.template,this.initRootEle(e.el),this.initEles(e.eles),this.bindDataListener(e.data),this.bindEvent(e.eventsMap),this.provideInterface(e.api),this.init=e.init}var r=t.q,i=t.watch,o=t.on;n.prototype.q=function(e){return r.call(this.el,e)},n.prototype.initRootEle=function(e){if("string"==typeof e)this.el=r(e);else{if(!(options.el instanceof Element))return console.error("el is must be a selector or Element");this.el=e}},n.prototype.initEles=function(e){var t;for(var n in e)t=e[n].split(" "),this.eles[n]=t[1]?this.q(t[0])[parseInt(t[1])]:this.q(e[n])},n.prototype.bindDataListener=function(e){for(var t in e)i(this,t,e[t].type,e[t].init,e[t].callback,e[t].extend)},n.prototype.bindEvent=function(e){var t,n,r;for(var i in e)t=i.split(" "),n=t[0],r=t[1],o(this.el,n,r,this.funcs[e[i]])},n.prototype.provideInterface=function(e){for(var t in e)"string"==typeof e[t]?this.eventer.on(t,this.funcs[e[t]]):this.eventer.on(t,e[t])},n.prototype.render=function(e,t){return e.replace(/{{([\s\w\.\s]*)}}/g,function(e,n){var r=n.trim().split("."),i=t[r.shift()];if(null==i)return"";for(var o=0;o<r.length;o++)if(null==(i=i[r[o]]))return"";return i.toString()})},n.prototype.exec=function(e,t){this.eventer.emit(e,t)},e.V=n}(this,utils);